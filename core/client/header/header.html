<template name="header">

    <header class="mdl-layout__header mdl-layout__header--waterfall default-primary-color primary-text-color">

        <!-- Menu button to open the drawer -->
        <!-- div class="mdl-layout-icon"></div -->

        <!-- Top header row, always visible -->
        <div class="mdl-layout__header-row">

            <!-- Title block, this can contain an img -->
            <button class="home-button mdl-button mdl-js-button mdl-js-ripple-effect">
                <span class="mdl-layout-title mdl-color-text--primary-contrast">{{appName}}</span>
            </button>

            <!-- Align nav links and icons to the right -->
            <div class="mdl-layout-spacer"></div>

            <!-- Navigation Block -->
                    <nav class="mdl-navigation">
                        <!-- Standard Nav Item -->
                        <a class="mdl-navigation__link" href="#" data-route="projects">PROJECT LIST</a>
                        <a class="mdl-navigation__link" href="#" data-route="project" {{isDisabled "project"}}>PROJECT</a>
                        <a class="mdl-navigation__link" href="#" data-route="model" {{isDisabled "model"}}>MODEL</a>
                        <a class="mdl-navigation__link" href="#" data-route="step" {{isDisabled "step"}}>STEP</a>
                    </nav>

            <!-- Align nav links and icons to the right -->
            <div class="mdl-layout-spacer"></div>

            {{#if currentUser}}

                <!-- Search -->
                <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable mdl-textfield--floating-label mdl-textfield--align-right">
                    <label class="mdl-button mdl-js-button mdl-button--icon" for="search"><i class="material-icons">search</i></label>
                    <div class="mdl-textfield__expandable-holder">
                        <input class="mdl-textfield__input" type="text" id="search" />
                    </div>
                </div>

            {{/if}}

            <!-- Profile -->
            <button class="profile-button mdl-button mdl-js-button mdl-button--icon">
                <i class="material-icons">person</i>
            </button>
        </div>

        {{> headerRow2 }}
    </header>

    {{> sideDraw }}

</template>


<template name="sideDraw">
    <!-- Side menu/draw -->
    <div class="mdl-layout__drawer">
        <button class="home-button mdl-button mdl-js-button mdl-js-ripple-effect">
            <span class="mdl-layout-title mdl-color-text--accent">{{appName}}</span>
        </button>

        <!-- Current user -->
        {{#if currentUser}}
            {{#with currentUser.profile}}
                <div class="userName">Hi
                    {{#if alias}}
                        {{alias}}
                    {{else}}
                        {{name}}
                    {{/if}}!
                </div>
            {{/with}}
        {{else}}
            <p>Please register or log in</p>
        {{/if}}

        <nav class="mdl-navigation">
            <a class="mdl-navigation__link" href="{{ pathFor 'home' }}">Home</a>

            {{#with isMenuEnabled}}
                {{#if projects}}
                    <a class="mdl-navigation__link" href="{{ pathFor 'projects' }}">Projects</a>
                {{/if}}

                {{#if login}}
                    <a class="mdl-navigation__link" href="{{ pathFor 'profile' }}">Login</a>
                {{else}}
                    <a class="mdl-navigation__link" href="{{ pathFor 'profile' }}">Profile</a>
                {{/if}}

                {{#if messages}}
                    <a class="mdl-navigation__link" href="" data-badge="4">Messages</a>
                {{/if}}

                {{#if settings}}
                    <a class="mdl-navigation__link" href="{{ pathFor 'settings' }}">Settings</a>
                {{/if}}

                {{#if admin}}
                    <a class="mdl-navigation__link" href="{{ pathFor 'admin' }}">Admin</a>
                {{/if}}
                {{#if about}}
                    <a class="mdl-navigation__link" href="{{ pathFor 'about' }}">About</a>
                {{/if}}
            {{else}}
                <p>No permissions. Please create an account</p>
            {{/with}}
        </nav>
    </div>

</template>



