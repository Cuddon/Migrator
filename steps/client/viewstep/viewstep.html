<!-- View  a step -->

<template name="viewStep">

    <div class="container">
        {{> instructionsRowMaterialize text1="View a step" }}

        <div class="row">

            <!-- Step name -->
            <div class="col s2">
                <div class="text bold">Step name</div>
            </div>

            <div class="col s9">
                {{#if step.name}}
                    <div class="text light">{{step.name}}</div>
                {{else}}
                    &nbsp;
                {{/if}}
            </div>

            <div class="col s1">
                <!-- Take Action menu -->
                <!-- Dropdown Trigger -->
                <a class='dropdown-button btn-flat' href='#' data-activates='take-action-dropdown'><i
                        class="material-icons grey-on-hover">more_vert</i></a>

                <!-- Dropdown Structure -->
                <ul id='take-action-dropdown' class='dropdown-content'>
                    <li class="edit-button"><a href="#"><i class="material-icons">edit</i> Edit step details</a></li>
                    <li class="disabled"><a href="#"><i class="material-icons">info</i> Info</a></li>
                    <li><a href="#"><i class="material-icons">content_copy</i> Clone</a></li>
                    <li><a href="#"><i class="material-icons">share</i> Share</a></li>
                    <li class="divider"></li>
                    <li><a href="#"><i class="material-icons">delete</i> Delete step</a></li>
                </ul>
            </div>

            <!-- Next Row -->
            <!-- Step Description -->
            <div class="col s2">
                <div class="text bold">Description</div>
            </div>

            <div class="col s10">
                {{#if step.description}}
                    <div class="text light">{{step.description}}</div>
                {{else}}
                    &nbsp;
                {{/if}}
            </div>

            <!-- Stencil name -->
            <div class="col s2">
                <div class="text bold">Stencil</div>
            </div>

            <div class="col s10">
                {{#if step.stencilId}}
                    {{#with step.stencilId}}
                        <div class="text light">{{stencilprop this "name"}}</div>
                    {{/with}}
                {{else}}
                    &nbsp;
                {{/if}}
            </div>
        </div>


        <div class="row">

            <!-- Model name -->
            <div class="col s2">
                <div class="text bold">Model</div>
            </div>

            <div class="col s10">
                {{#if model.name}}
                    <div class="text light">{{model.name}}</div>
                {{else}}
                    &nbsp;
                {{/if}}
            </div>

            <!-- Project name -->
            <div class="col s2">
                <div  class="text bold">Project</div>
            </div>

            <div class="col s10">
                {{#if project.name}}
                    <div class="text light">{{project.name}}</div>
                {{else}}
                    &nbsp;
                {{/if}}
            </div>

        </div>


        <!-- Notes -->
        <div class="row">
            {{#if showNotes}}
                <div class="col s2">
                    <div class="text bold">Notes<i class="toggle-notes-button material-icons icon-hover">expand_more</i></div>
                </div>

                <div class="col s10">
                    <form action="#">
                        <div class="input-field white-background">
                            <textarea class="materialize-textarea" id="notes">{{step.notes}}</textarea>
                            <label for="notes">Type notes here (automatically saved)</label>
                        </div>
                    </form>
                </div>
            {{else}}
                <div class="col s2">
                    <div>Notes<i class="toggle-notes-button material-icons icon-hover">expand_more</i></div>
                </div>
                <div class="col s10">
                    <div class="field-value">&nbsp;</div>
                </div>
            {{/if}}
        </div>


        <!-- Step details -->
        {{#with step }}
            {{#if stencilId }}
                {{> Template.dynamic template=stencilId}}
            {{else}}
                <p>Step is missing a nominated stencil template</p>
            {{/if}}
        {{/with}}


        <!-- Action Buttons row -->
        <div class="row">
            <div class="col s12">
                <button type="submit" class="save-button btn">
                    Save
                </button>
            </div>
        </div>

    </div>

</template>
