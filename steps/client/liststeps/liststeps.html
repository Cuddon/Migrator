<template name="listSteps">

    {{> sectionHeadingRow text2="Steps"}}

    {{> instructionsRow text2="Click/tap an existing step or add a new one with the + button"}}
    <!-- Content Row: List the model's steps -->
    <div class="mdl-grid mdl-grid--no-spacing">
        <div class="mdl-cell mdl-cell--2-col mdl-cell--hide-phone">
        </div>

        <div class="mdl-cell mdl-cell--8-col">
            {{#each group in model.stepGroups}}
                <div class="mdl-grid mdl-grid--no-spacing">
                    <div class="mdl-cell mdl-cell--12-col">
                        <div class="section_heading">{{group}}</div>
                    </div>
                </div>
                <div>
                    {{#each stepsList @index}}
                        {{> stepItem}}
                    {{else}}
                        <p><i class="material-icons">info</i>Your model has no steps. Click/tap the + button to add one.
                        </p>
                    {{/each}}
                </div>
            {{/each}}
        </div>

        <div class="mdl-cell mdl-cell--2-col">
        </div>
    </div>

    <!-- Add Step floating button -->
    {{#if isMenuEnabled.stepAdd}}
        <button id="add-step-button"
                class="add-step-button FAB-bottom-right mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored secondary-accent-color">
            <i class="material-icons">add</i>
        </button>
    {{else}}
        <button class="FAB-bottom-right mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored secondary-accent-color"
                disabled>
            <i class="material-icons">add</i>
        </button>
    {{/if}}

</template>


<template name="stepItem">

    <div class="step-item mdl-grid mdl-grid--no-spacing">

        <div class="mdl-cell mdl-cell--1-col step-image">
            <div class="img-vertical-align-helper"></div>
            <div class="img-circle centre-block-horizontally"
                 style="background: url('{{image}}') 50% 50% no-repeat; width: 50px;height: 50px; vertical-align: middle;">
            </div>
        </div>

        <div class="mdl-cell mdl-cell--10-col step-content">
            <div class="body-text">[{{order}}] <span class="bold">{{name}}</span></div>
            <div class="body-text">{{description}}</div>
        </div>

        <div class="mdl-cell mdl-cell--1-col step-action">
            <div class="img-vertical-align-helper"></div>
            <div class="centre-block-horizontally centre-block-vertically">
                <button class="mdl-button mdl-js-button mdl-button--icon">
                    <i class="material-icons">edit</i>
                </button>
            </div>
        </div>

    </div>

</template>

